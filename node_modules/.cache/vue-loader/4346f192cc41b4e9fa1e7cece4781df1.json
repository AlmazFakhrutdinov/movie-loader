{"remainingRequest":"/home/user/movie-loader/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/movie-loader/src/components/second.vue?vue&type=style&index=0&id=e31e96f8&scoped=true&lang=css&","dependencies":[{"path":"/home/user/movie-loader/src/components/second.vue","mtime":1574381220919},{"path":"/home/user/movie-loader/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/movie-loader/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/user/movie-loader/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/user/movie-loader/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/movie-loader/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tb3ZpZS1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBmbGV4LXdyYXA6IHdyYXA7Cn0KLnNlbGVjdC1ncm91cCBzZWN0aW9uewogIG1hcmdpbi1sZWZ0OiAxM3B4Owp9Ci5wYWdpIHsKICB3aWR0aDogOTglOwp9Cg=="},{"version":3,"sources":["second.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"second.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"columns\">\n      <div class=\"column\">\n        <h2 class=\"title is-2 has-text-centered\">Second option</h2>\n      </div>\n    </div>\n    <div class=\"columns\">\n      <div class=\"column\">\n        <div class=\"is-flex select-group\">\n          <section>\n            <b-dropdown v-model=\"sortBy\" multiple aria-role=\"list\">\n              <button class=\"button is-primary\" type=\"button\" slot=\"trigger\">\n                <span>Sort By ({{ sortBy.length }})</span>\n                <b-icon icon=\"menu-down\"></b-icon>\n              </button>\n\n              <b-dropdown-item value=\"popularity.asc\" aria-role=\"listitem\">\n                <span>Popularity asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"popularity.desc\" aria-role=\"listitem\">\n                <span>Popularity desc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"release_date.asc\" aria-role=\"listitem\">\n                <span>Release date asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"release_date.desc\" aria-role=\"listitem\">\n                <span>Release date desc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"revenue.asc\" aria-role=\"listitem\">\n                <span>Revenue asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"revenue.desc\" aria-role=\"listitem\">\n                <span>Revenue desc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"primary_release_date.asc\" aria-role=\"listitem\">\n                <span>Primary release asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"primary_release_date.desc\" aria-role=\"listitem\">\n                <span>Primary release desc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"original_title.asc\" aria-role=\"listitem\">\n                <span>Original title asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"original_title.desc\" aria-role=\"listitem\">\n                <span>Original title desc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"vote_average.asc\" aria-role=\"listitem\">\n                <span>Vote average asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"vote_average.desc\" aria-role=\"listitem\">\n                <span>Vote average desc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"vote_count.asc\" aria-role=\"listitem\">\n                <span>Vote count asc</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"vote_count.desc\" aria-role=\"listitem\">\n                <span>Vote count desc</span>\n              </b-dropdown-item>\n            </b-dropdown>\n          </section>\n          <section>\n            <b-dropdown v-model=\"genres\" multiple aria-role=\"list\">\n              <button class=\"button is-primary\" type=\"button\" slot=\"trigger\">\n                <span>Genres ({{ genres.length }})</span>\n                <b-icon icon=\"menu-down\"></b-icon>\n              </button>\n\n              <b-dropdown-item value=\"28\" aria-role=\"listitem\">\n                <span>Action</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"12\" aria-role=\"listitem\">\n                <span>Adventure</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"16\" aria-role=\"listitem\">\n                <span>Animation</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"35\" aria-role=\"listitem\">\n                <span>Comedy</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"80\" aria-role=\"listitem\">\n                <span>Crime</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"99\" aria-role=\"listitem\">\n                <span>Documentary</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"18\" aria-role=\"listitem\">\n                <span>Drama</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"10751\" aria-role=\"listitem\">\n                <span>Family</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"14\" aria-role=\"listitem\">\n                <span>Fantasy</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"36\" aria-role=\"listitem\">\n                <span>History</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"27\" aria-role=\"listitem\">\n                <span>Horror</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"10402\" aria-role=\"listitem\">\n                <span>Music</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"9648\" aria-role=\"listitem\">\n                <span>Mystery</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"10749\" aria-role=\"listitem\">\n                <span>Romance</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"878\" aria-role=\"listitem\">\n                <span>Science Fiction</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"10770\" aria-role=\"listitem\">\n                <span>TV Movie</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"53\" aria-role=\"listitem\">\n                <span>Thriller</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"10752\" aria-role=\"listitem\">\n                <span>War</span>\n              </b-dropdown-item>\n\n              <b-dropdown-item value=\"37\" aria-role=\"listitem\">\n                <span>Western</span>\n              </b-dropdown-item>\n            </b-dropdown>\n          </section>\n        </div>\n      </div>\n      <div class=\"column\">\n        <pagination class=\"pagi\" :pageNumber=\"pageNumber\" @changePageNumber=\"changePageNumber\" />\n      </div>\n    </div>\n\n    <div class=\"movie-container\">\n      <MovieList\n        class=\"movie box is-paddingless is-radiusless\"\n        v-for=\"(movie, index) in movieListData\"\n        :key=\"index\"\n        :movie=\"movie\"\n        @movieInfo=\"movieInfo\"\n      />\n    </div>\n    <b-loading :is-full-page=\"isFullPage\" :active.sync=\"isLoading\" :can-cancel=\"true\"></b-loading>\n  </div>\n</template>\n\n<script>\nimport api from \"../api\";\nimport MovieList from \"./movie-list\";\nimport Pagination from \"./pagination\";\n\n\nexport default {\n  components: { MovieList, Pagination },\n  data() {\n    return {\n      sortBy: [],\n      genres: [],\n      pageNumber: 1,\n      movieListData: [],\n      isLoading: false,\n      isFullPage: true\n    };\n  },\n  mounted() {\n    this.checkAndUpdate();\n  },\n  methods: {\n    changePageNumber(id) {\n      this.pageNumber = id\n      this.checkAndUpdate()\n    },\n    movieInfo(id) {\n      const route = this.$router.resolve({ path: `movieInfo/${id}` });\n      window.open(route.href, \"_blank\");\n    },\n    checkAndUpdate() {\n      this.isLoading = true;\n      function turnToString(item, str) {\n        return item.map(element => (element += str)).join();\n      }\n\n      const sortString = turnToString(this.sortBy, \"&\");\n      let intermidietGenresString = turnToString(this.genres, \"%2c\");\n      let genresString = intermidietGenresString.slice(\n        0,\n        intermidietGenresString.length - 3\n      );\n\n      api\n        .getMovieList(sortString, genresString, this.pageNumber)\n        .then(response => {\n          response.data.results.forEach(element => {\n            element.poster_path = `https://image.tmdb.org/t/p/w185_and_h278_bestv2${element.poster_path}`;\n          });\n\n          this.movieListData = response.data.results;\n        });\n    }\n  },\n  watch: {\n    movieListData() {\n      this.isLoading = false;\n    },\n    sortBy() {\n      this.checkAndUpdate();\n    },\n    genres() {\n      this.checkAndUpdate();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.movie-container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.select-group section{\n  margin-left: 13px;\n}\n.pagi {\n  width: 98%;\n}\n</style>"]}]}